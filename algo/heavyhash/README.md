The complete miner is heavyhash-gate.c#L131. Optical hardware should at least implement heavyhash-gate.c#L97.
After building the miner, one can run it as 
./cpuminer -o stratum+tcp://pool.obtc.me:3390 -u [your address] -p . -a heavyhash -D
See for example https://pool.obtc.me/home
